/**
 * ＷＨＡＴＳＡＰＰ ＢＯＴ－ＭＤ ＢＥＴA
 *
 * @project_name : ANSH BOT
 *
 * Created By Suhail Tech Info.
 * © 2024 Suhail-Md.
 */

let Suhail_Md = "Suhail MD Whatsapp bot md";

const _0x120884 = _0xe15d;

(function (_0x5802c7, _0x8b4e92) {
    const _0x483cfc = _0xe15d, _0x3f07e7 = _0x5802c7();
    while (!![]) {
        try {
            const _0x4fd228 = parseInt(_0x483cfc(0x249)) / 0x1 * (-parseInt(_0x483cfc(0x264)) / 0x2) + parseInt(_0x483cfc(0x1e0)) / 0x3 * (-parseInt(_0x483cfc(0x199)) / 0x4) + -parseInt(_0x483cfc(0x24c)) / 0x5 + parseInt(_0x483cfc(0x258)) / 0x6 + -parseInt(_0x483cfc(0x2a9)) / 0x7 + -parseInt(_0x483cfc(0x22f)) / 0x8 * (-parseInt(_0x483cfc(0x1e3)) / 0x9) + parseInt(_0x483cfc(0x196)) / 0xa;
            if (_0x4fd228 === _0x8b4e92) break;
            else _0x3f07e7['push'](_0x3f07e7['shift']());
        } catch (_0x200b58) {
            _0x3f07e7['push'](_0x3f07e7['shift']());
        }
    }
}(_0x55bf, 0xf20d7));

const { yt, getBuffer, Config } = require(_0x120884(0x1b8)),
    yts = require('secktor-pack'),
    fs = require(_0x120884(0x278));

const { cmd } = require(_0x120884(0x268));

const videotime = 2000;

smd({
    'pattern': _0x120884(0x25d),
    'alias': ['music1'],
    'desc': _0x120884(0x1be),
    'category': _0x120884(0x1cc),
    'filename': __filename,
    'use': _0x120884(0x20d)
}, async (_0x54463e, _0x1f76d0) => {
    const _0x5a627b = _0x120884;
    try {
        let _0x25d045 = _0x1f76d0 ? _0x1f76d0 : _0x54463e[_0x5a627b(0x293)];
        var _0x2e913a = _0x25d045[_0x5a627b(0x1cd)]().includes('document') ? 'document' : 'audio';
        if (!_0x25d045) return _0x54463e['sendMessage']('*' + prefix + 'Give me search query!*');
        
        let _0x2eca3d = ytIdRegex['exec'](_0x25d045) || [], _0xb6fd2d = _0x2eca3d[0x0] || ![];
        if (!_0xb6fd2d) {
            let _0x4bcf6d = await yts(_0x25d045),
                _0xa244ed = _0x4bcf6d['videos'][0x0];
            _0xb6fd2d = _0xa244ed['videoId'];
        }
        _0x2eca3d = ytIdRegex['exec'](_0xb6fd2d) || [];
        let _0x6845ab = await yt['getInfo'](_0x2eca3d[0x1]),
            _0x516e89 = _0x6845ab['videoDetails']['title'] || _0x37323e || _0x2eca3d[0x1];
        if (_0x6845ab && _0x6845ab['videoDetails']['lengthSeconds'] >= videotime) return await _0x54463e['sendMessage']('❌ File size bigger than 200mb.');

        await _0x54463e['sendMessage']('_Downloading ' + _0x6845ab['title'] + '?_');
        let _0x37323e = await yt['download'](_0x2eca3d[0x1], { 'type': 'audio', 'quality': 'highestaudio' });
        var _0x28302f = { ...await _0x54463e['bot']['contextInfo'](Config['botname'], 'ꜱᴏɴɢ ᴅᴏᴡɴʟᴏᴀᴅᴇʀ') };
        _0x37323e ? await _0x54463e['bot']['sendMessage'](_0x54463e['jid'], { [_0x2e913a]: { 'url': _0x37323e }, 'fileName': _0x516e89, 'mimetype': 'audio/mpeg', 'contextInfo': _0x28302f }) : _0x54463e['sendMessage']('*_File not found!!_*');
        try { fs['unlinkSync'](_0x37323e); } catch { }
    } catch (_0x593953) {
        return _0x54463e['error'](_0x593953 + '\x0a\x0acommand: play', _0x593953, '*_Video not Found_*');
    }
});


/*
cmd({
   cmdname :"downloader",
   type: "downloader",
}
 */

